<!DOCTYPE html>
<html lang = "en">
<head>
  <meta charset = "utf-8" />
  <meta name = "viewport" content = "width = device-width,initial-scale = 1" />
  <title>Music Quiz</title>
<link rel = "stylesheet" href = "css/styles.css" />
</head>
<body>
  <!-- MENU -->
  <div class = "card" id = "menu">
    <h2>🎵 Music Quiz</h2>

    <p>Select a game:</p>
    <div style = "display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;">
      <button onclick = "startRound('find')">Find the Key</button>
      <button onclick = "startRound('auto')">Auto Mode</button>
      <button onclick = "startRound('move')">Move the Key</button>
      <button onclick = "startRound('fret')">Fret Mastery</button>
      <button onclick = "openLeaderboard('overall')">Leaderboard</button>
    </div> <p style = "margin-top:8px;">⏱️ Time Limit (before revealing/correct answer):</p>
    <div>
      <button id = "btn10" class = "toggle active" onclick = "setTimeLimit(10)">10s</button>
      <button id = "btn20" class = "toggle inactive" onclick = "setTimeLimit(20)">20s</button>
      <button id = "btn30" class = "toggle inactive" onclick = "setTimeLimit(30)">30s</button>
    </div>

    <p style = "margin-top:12px;">🔁 Number of Questions / Rounds:</p>
    <div>
      <button id = "r10" class = "toggle inactive" onclick = "setRounds(10)">10</button>
      <button id = "r20" class = "toggle active" onclick = "setRounds(20)">20</button>
      <button id = "rInf" class = "toggle inactive" onclick = "setRounds(Infinity)">∞</button>
    </div>

  </div>

  <!-- QUIZ -->
  <div class = "card hidden" id = "quiz">
    <div>Q <span id = "qNum">1</span><span id = "qTotal"></span></div>
    <div class = "big">
      <div style = "font-size:18px;color:#aaa;font-weight:300;">The note</div>
      <div class = "note" id = "rootNote">C</div>
      <div style = "font-size:18px;color:#aaa;font-weight:300;">is the</div>
      <div class = "degree" id = "degree">♭5</div>
      <div style = "font-size:18px;color:#aaa;font-weight:300;">of what key?</div>
    </div>

    <div class = "grid" id = "answers"></div>

    <div class = "footer">
      <div id = "feedback">Pick the answer.</div>
      <div style = "display:flex;gap:8px;">
        <button id = "exitGame">Exit Game</button>
      </div>
    </div>
  </div>

  <!-- SUMMARY (minimal - we auto-show leaderboard after rounds) -->
  <div class = "card hidden" id = "summary">
    <h2>Round Complete 🎉</h2>
    <p id = "summaryText"></p>
    <div style = "display:flex;gap:8px;">
      <button id = "playAgain">Play Again</button>
      <button id = "backToMenuSummary">Back to Menu</button>
    </div>
  </div>

  <!-- LEADERBOARD -->
  <div class = "card hidden" id = "leaderboard">
    <h2>Leaderboard</h2>

    <div class = "leader-top">
      <div>
        <button id = "btnOverall" class = "toggle active small" onclick = "openLeaderboard('overall')">Overall</button>
        <button id = "btnFind" class = "toggle inactive small" onclick = "openLeaderboard('find')">Find</button>
        <button id = "btnMove" class = "toggle inactive small" onclick = "openLeaderboard('move')">Move</button>
        <button id = "btnFret" class = "toggle inactive small" onclick = "openLeaderboard('fret')">Fret</button>
      </div>
      <div class = "leader-label" id = "leaderLatestLabel"></div>
    </div>

    <table id = "leaderTable">
      <thead>
        <tr><th>Rank</th><th>Date</th><th>Mode</th><th>Score</th></tr>
      </thead>
      <tbody></tbody>
    </table>
	<div style = "display:flex;gap:8px;margin-top:8px;">
	  <button id = "exitLeaderboard">Back to Menu</button>
	  <button id = "debugLeaderboard">🔍 Metadata</button>
	  <button id = "clearLeaderboard">🗑️ Clear History</button>
	</div>
  </div>
<script src = "js/script.js"></script>
</body>
</html>